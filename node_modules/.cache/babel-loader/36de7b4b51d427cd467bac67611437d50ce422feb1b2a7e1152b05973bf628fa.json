{"ast":null,"code":"import _slicedToArray from\"C:/Users/liranhaim/Desktop/MotoProg_H/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{signInWithEmailAndPassword}from\"firebase/auth\";import{auth}from\"../../firebase\";import{NavLink,Redirect,useNavigate}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{getUser}from\"../../features/users\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var navigate=useNavigate();var dispatch=useDispatch();var onLogin=function onLogin(e){e.preventDefault();signInWithEmailAndPassword(auth,email,password).then(function(userCredential){// Signed in\nvar user=userCredential.user;navigate(\"/\");console.log(user);dispatch(getUser(userCredential.user.uid));}).catch(function(err){var errorCode=err.code;var errorMessage=err.message;if(errorMessage===\"Firebase: Error (auth/user-not-found).\"){setError({email:\"User not found\"});}else if(errorMessage===\"Firebase: Error (auth/wrong-password).\"){setError({password:\"Wrong Password\"});}console.log(\"err => \",errorMessage);});};var onBack=function onBack(e){e.preventDefault();navigate(\"/\");};return/*#__PURE__*/_jsxs(\"main\",{className:\"auth\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blur\"}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"span\",{className:\"mdi mdi-cube-outline cube\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onLogin,children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input-form\",id:\"email-address\",name:\"email\",type:\"email\",required:true,placeholder:\"Email address\",onChange:function onChange(e){return setEmail(e.target.value);}})}),error.email?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error.email}):null,/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input-form\",id:\"password\",name:\"password\",type:\"password\",required:true,placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);}})}),error.password?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error.password}):null,/*#__PURE__*/_jsx(\"div\",{className:\"submit\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Login\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-white text-center\",children:[\"No account yet? \",/*#__PURE__*/_jsx(NavLink,{to:\"/signup\",children:\"Sign up\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"back\",onClick:onBack,children:\"Back\"})]})]})]});};export default Login;","map":{"version":3,"names":["React","useState","signInWithEmailAndPassword","auth","NavLink","Redirect","useNavigate","useDispatch","getUser","Login","props","email","setEmail","password","setPassword","error","setError","navigate","dispatch","onLogin","e","preventDefault","then","userCredential","user","console","log","uid","catch","err","errorCode","code","errorMessage","message","onBack","textAlign","target","value"],"sources":["C:/Users/liranhaim/Desktop/MotoProg_H/src/components/auth/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../../firebase\";\nimport { NavLink, Redirect, useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { getUser } from \"../../features/users\";\n\nconst Login = (props) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState({});\n  const navigate = useNavigate()\n\n  const dispatch = useDispatch();\n  const onLogin = (e) => {\n    e.preventDefault();\n    signInWithEmailAndPassword(auth, email, password)\n      .then((userCredential) => {\n        // Signed in\n        const user = userCredential.user;\n        navigate(\"/\");\n        console.log(user);\n        dispatch(getUser(userCredential.user.uid));\n      })\n      .catch((err) => {\n        const errorCode = err.code;\n        const errorMessage = err.message;\n        if (errorMessage === \"Firebase: Error (auth/user-not-found).\") {\n          setError({ email: \"User not found\" });\n        } else if (errorMessage === \"Firebase: Error (auth/wrong-password).\") {\n          setError({ password: \"Wrong Password\" });\n        }\n        console.log(\"err => \", errorMessage);\n      });\n  };\n\n  const onBack = (e) => {\n    e.preventDefault()\n    navigate(\"/\")\n  }\n\n  return (\n    <main className=\"auth\">\n      <div className=\"bg-blur\" />\n      <section>\n        <div style={{ textAlign: \"center\" }}>\n          <span className=\"mdi mdi-cube-outline cube\"></span>\n        </div>\n        <div>\n          <h2>Login</h2>\n          <form onSubmit={onLogin}>\n            <div className=\"input-container\">\n              <input\n                className=\"input-form\"\n                id=\"email-address\"\n                name=\"email\"\n                type=\"email\"\n                required\n                placeholder=\"Email address\"\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n            {error.email ? <p className=\"error\">{error.email}</p> : null}\n\n            <div className=\"input-container\">\n              <input\n                className=\"input-form\"\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                required\n                placeholder=\"Password\"\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </div>\n            {error.password ? <p className=\"error\">{error.password}</p> : null}\n\n            <div className=\"submit\">\n              <button type=\"submit\" className=\"submit-button\">\n                Login\n              </button>\n            </div>\n          </form>\n\n          <p className=\"text-white text-center\">\n            No account yet? <NavLink to=\"/signup\">Sign up</NavLink>\n          </p>\n          <p className=\"back\" onClick={onBack}>\n            Back\n          </p>\n        </div>\n      </section>\n    </main>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}