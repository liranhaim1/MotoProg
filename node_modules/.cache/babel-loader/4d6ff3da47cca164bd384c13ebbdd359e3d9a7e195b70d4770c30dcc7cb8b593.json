{"ast":null,"code":"import _slicedToArray from\"C:/Users/liranhaim/Desktop/MotoProg_H/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Component,Fragment,useEffect,useState}from\"react\";import{Helmet}from\"react-helmet\";import{Link,useLocation}from\"react-router-dom\";import ChartComponent from\"./ChartComponent\";import LineComponent from\"./LineComponent\";import{addHistory}from\"../../features/history\";import{connect}from\"react-redux\";import{mapStateToProps,mapDispatchToProps}from\"../../store\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function QuizSummary(props){console.log(\"props\",props);var location=useLocation();var userId=props.user.id;console.log(\"userId => \",userId);var _useState=useState({score:0,numberOfQuestions:0,numberOfAnsweredQuestions:0,correctAnswers:0,wrongAnswers:0,hintsUsed:0,userRate:[],fiftyFiftyUsed:0}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){var state=location.state;if(state){var score=state.correctAnswers/state.numberOfQuestions*100;setState({score:score,numberOfQuestions:state.numberOfQuestions,numberOfAnsweredQuestions:state.numberOfAnsweredQuestions,correctAnswers:state.correctAnswers,wrongAnswers:state.wrongAnswers,hintsUsed:state.hintsUsed,userRate:state.userRate,fiftyFiftyUsed:state.fiftyFiftyUsed});if(userId){var _state$category;addHistory(userId,new Date(),(_state$category=state.category)!==null&&_state$category!==void 0?_state$category:\"unknown\",score,state.correctAnswers,state.wrongAnswers,state.userRate,state.globalRate,state.fiftyFiftyUsed,state.hintsUsed);}}},[]);console.log(\"userRate check\",state.userRate);var stats,remark;var userScore=state.score;if(userScore<=30){remark=\"You need more practice!\";}else if(userScore>30&&userScore<=50){remark=\"Better luck next time!\";}else if(userScore<=70&&userScore>50){remark=\"You can do better!\";}else if(userScore>=71&&userScore<=84){remark=\"You did great!\";}else{remark=\"You're an absolute genius!\";}if(state!==undefined){stats=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"span\",{className:\"mdi mdi-check-circle-outline success-icon\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Quiz has ended\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container stats\",children:[/*#__PURE__*/_jsx(\"h2\",{children:remark}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Your Score: \",state.score.toFixed(0),\"%\"]}),/*#__PURE__*/_jsx(ChartComponent,{}),/*#__PURE__*/_jsx(LineComponent,{}),/*#__PURE__*/_jsx(\"span\",{className:\"stat left\",children:\"Total number of questions: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"right\",children:state.numberOfQuestions}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"stat left\",children:\"Number of attempted questions: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"right\",children:state.numberOfAnsweredQuestions}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"stat left\",children:\"Hints Used: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"right\",children:state.hintsUsed}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"stat left\",children:\"50-50 Used: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"right\",children:state.fiftyFiftyUsed})]}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/play/category\",children:\"Play Again\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/play/history\",children:\"Game History\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to Home\"})})]})})]});}else{stats=/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"no-stats\",children:\"No Statistics Available\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/play/quiz\",children:\"Take a Quiz\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to Home\"})})]})]});}return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Quiz App - Summary\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blur\"}),/*#__PURE__*/_jsx(\"div\",{className:\"quiz-summary\",children:stats})]});}export default connect(mapStateToProps,mapDispatchToProps)(QuizSummary);","map":{"version":3,"names":["React","Component","Fragment","useEffect","useState","Helmet","Link","useLocation","ChartComponent","LineComponent","addHistory","connect","mapStateToProps","mapDispatchToProps","QuizSummary","props","console","log","location","userId","user","id","score","numberOfQuestions","numberOfAnsweredQuestions","correctAnswers","wrongAnswers","hintsUsed","userRate","fiftyFiftyUsed","state","setState","Date","category","globalRate","stats","remark","userScore","undefined","textAlign","toFixed"],"sources":["C:/Users/liranhaim/Desktop/MotoProg_H/src/components/quiz/QuizSummary.js"],"sourcesContent":["import React, { Component, Fragment, useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport ChartComponent from \"./ChartComponent\";\nimport LineComponent from \"./LineComponent\";\nimport { addHistory } from \"../../features/history\";\nimport { connect } from \"react-redux\";\nimport { mapStateToProps, mapDispatchToProps } from \"../../store\";\n\nfunction QuizSummary(props) {\n  console.log(\"props\", props);\n\n  const location = useLocation();\n  const userId = props.user.id;\n  console.log(\"userId => \", userId);\n  const [state, setState] = useState({\n    score: 0,\n    numberOfQuestions: 0,\n    numberOfAnsweredQuestions: 0,\n    correctAnswers: 0,\n    wrongAnswers: 0,\n    hintsUsed: 0,\n    userRate: [],\n    fiftyFiftyUsed: 0,\n  });\n\n  useEffect(() => {\n    const { state } = location;\n    if (state) {\n      const score = (state.correctAnswers / state.numberOfQuestions) * 100;\n      setState({\n        score: score,\n        numberOfQuestions: state.numberOfQuestions,\n        numberOfAnsweredQuestions: state.numberOfAnsweredQuestions,\n        correctAnswers: state.correctAnswers,\n        wrongAnswers: state.wrongAnswers,\n        hintsUsed: state.hintsUsed,\n        userRate: state.userRate,\n        fiftyFiftyUsed: state.fiftyFiftyUsed,\n      });\n\n      if (userId) {\n        addHistory(\n          userId,\n          new Date(),\n          state.category ?? \"unknown\",\n          score,\n          state.correctAnswers,\n          state.wrongAnswers,\n          state.userRate,\n          state.globalRate,\n          state.fiftyFiftyUsed,\n          state.hintsUsed\n        );\n      }\n    }\n  }, []);\n  console.log(`userRate check`, state.userRate);\n\n  let stats, remark;\n  const userScore = state.score;\n\n  if (userScore <= 30) {\n    remark = \"You need more practice!\";\n  } else if (userScore > 30 && userScore <= 50) {\n    remark = \"Better luck next time!\";\n  } else if (userScore <= 70 && userScore > 50) {\n    remark = \"You can do better!\";\n  } else if (userScore >= 71 && userScore <= 84) {\n    remark = \"You did great!\";\n  } else {\n    remark = \"You're an absolute genius!\";\n  }\n\n  if (state !== undefined) {\n    stats = (\n      <Fragment>\n        <div style={{ textAlign: \"center\" }}>\n          <span className=\"mdi mdi-check-circle-outline success-icon\"></span>\n        </div>\n        <h1>Quiz has ended</h1>\n        <div className=\"container stats\">\n          <h2>{remark}</h2>\n          <h2>Your Score: {state.score.toFixed(0)}&#37;</h2>\n          <ChartComponent />\n          <LineComponent />\n\n          <span className=\"stat left\">Total number of questions: </span>\n          <span className=\"right\">{state.numberOfQuestions}</span>\n          <br />\n\n          <span className=\"stat left\">Number of attempted questions: </span>\n          <span className=\"right\">{state.numberOfAnsweredQuestions}</span>\n          <br />\n          <span className=\"stat left\">Hints Used: </span>\n          <span className=\"right\">{state.hintsUsed}</span>\n          <br />\n\n          <span className=\"stat left\">50-50 Used: </span>\n          <span className=\"right\">{state.fiftyFiftyUsed}</span>\n        </div>\n        <section>\n          <ul>\n            <li>\n              <Link to=\"/play/category\">Play Again</Link>\n            </li>\n            <li>\n              <Link to=\"/play/history\">Game History</Link>\n            </li>\n            <li>\n              <Link to=\"/\">Back to Home</Link>\n            </li>\n          </ul>\n        </section>\n      </Fragment>\n    );\n  } else {\n    stats = (\n      <section>\n        <h1 className=\"no-stats\">No Statistics Available</h1>\n        <ul>\n          <li>\n            <Link to=\"/play/quiz\">Take a Quiz</Link>\n          </li>\n          <li>\n            <Link to=\"/\">Back to Home</Link>\n          </li>\n        </ul>\n      </section>\n    );\n  }\n  return (\n    <Fragment>\n      <Helmet>\n        <title>Quiz App - Summary</title>\n      </Helmet>\n      <div className=\"bg-blur\" />\n      <div className=\"quiz-summary\">{stats}</div>\n    </Fragment>\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuizSummary);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}